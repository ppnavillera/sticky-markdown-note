<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Note</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      body {
        display: flex;
        flex-direction: column;
        font-family: sans-serif;
      }

      #editor {
        height: 50%;
        width: 100%;
        box-sizing: border-box;
        font-size: 16px;
        padding: 10px;
        resize: none;
      }

      #preview {
        height: 50%;
        width: 100%;
        box-sizing: border-box;
        padding: 10px;
        overflow-y: auto;
        border-top: 1px solid #ccc;
      }

      #titlebar {
        height: 30px;
        background-color: #ddd;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 8px;
        -webkit-app-region: drag;
        user-select: none;
        font-weight: bold;
      }

      #titlebar button {
        background: none;
        border: none;
        font-size: 16px;
        cursor: pointer;
        -webkit-app-region: no-drag;
      }

      #titlebar .title-btn {
        background: white;
        padding: 2px 10px;
        font-size: 13px;
        cursor: pointer;
        margin-left: 8px;
        -webkit-app-region: no-drag;
      }

      body.light-theme {
        background: #fff;
        color: #000;
      }

      body.dark-theme {
        background: #1e1e1e;
        color: #eee;
      }

      .dark-theme #titlebar {
        background: #333;
        color: #ddd;
      }

      .dark-theme #editor,
      .dark-theme #preview,
      .dark-theme textarea {
        background: #1e1e1e;
        color: #eee;
        border-color: #444;
      }

      /* 공통 위젯 스타일 */
      .dark-theme input,
      .dark-theme button,
      .dark-theme textarea,
      .dark-theme select {
        background-color: #2a2a2a;
        color: #eee;
        border: 1px solid #666;
      }

      .dark-theme input::placeholder,
      .dark-theme textarea::placeholder {
        color: #999;
      }

      .dark-theme button:hover {
        background-color: #444;
      }

      .dark-theme .title-btn {
        background-color: #2a2a2a !important;
        color: #eee !important;
        border: 1px solid #666 !important;
        padding: 2px 10px;
        font-size: 13px;
        border-radius: 4px;
        opacity: 1 !important;
        cursor: default;
        -webkit-app-region: no-drag;
      }

      .dark-theme .title-btn:hover {
        background-color: #444;
      }

      #editor, #preview {
        flex: 1;
        height: auto;
      }

      body.both-mode #editor,
      body.both-mode #preview {
        height: 50%;
        display: block;
      }

      body.only-mode #editor,
      body.only-mode #preview {
        flex: 1;
        height: auto;
        display: block;
      }

    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
  </head>
  <body>
    <div id="titlebar">
      <button id="new-note" class="title-btn">➕</button>
      <div>
        <button id="view-toggle" class="title-btn">both</button>
        <button id="only-toggle" class="title-btn" style="display:none;">✏️</button>
        <button id="open-list" class="title-btn">List</button>
        <button onclick="window.close()">✖</button>
      </div>
          
    </div>

    <textarea id="editor" placeholder="Write here..."></textarea>
    <div id="preview"></div>

    <script src="note.js"></script>
  </body>
</html>
